(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{5958:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bitpay/invoice/receipt",function(){return i(4198)}])},4009:function(e,s,i){"use strict";var t=i(5893),n=i(5072),a=i(7294),r=i(5206),c=i.n(r),l=i(1926),o=i.n(l),d=i(1799),h=i(3062),p=i(9845);let u=i.n(p)().bind(o());s.Z=e=>{let{type:s}=e,[i,r]=(0,a.useState)(!0);return(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.E.div,{className:c().invoice,onClick:()=>r(!i),style:"underpaid"===s||"overpaid"===s||"refund"===s?{cursor:"pointer"}:{},children:[(0,t.jsx)(d.Z,{timestamp:!0}),"paid"===s&&(0,t.jsxs)(n.E.div,{className:u({status:!0,status__green:!0}),children:[(0,t.jsx)("img",{className:o().status__icon,src:"/icons/status-paid.svg"}),"Success"]}),"delayed"===s&&(0,t.jsxs)(n.E.div,{className:u({status:!0,status__orange:!0}),children:[(0,t.jsx)("img",{className:o().status__icon,src:"/icons/status-confirming.svg"}),"Payment Detected"]}),("overpaid"===s||"refund"===s)&&(0,t.jsxs)(n.E.div,{className:u({status:!0,status__blue:!0}),children:[(0,t.jsx)("img",{className:u({status__icon:!0,status__blue__pulse:i}),src:"/icons/status-refund.svg"}),"Refund Available"]}),"underpaid"===s&&(0,t.jsxs)(n.E.div,{className:u({status:!0,status__red:!0}),children:[(0,t.jsx)("img",{className:u({status__icon:!0,status__red__pulse:i}),src:"/icons/status-declined.svg"}),"Payment Declined"]}),"processing"===s&&(0,t.jsxs)(n.E.div,{className:u({status:!0,status__blue:!0}),children:[(0,t.jsx)("img",{className:o().status__icon,src:"/icons/status-processing.svg"}),"Refund Processing"]}),(0,t.jsx)(n.E.div,{className:c().price,children:"$135.00"}),(0,t.jsxs)("div",{className:o().details,children:[(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Exchange Rate"}),(0,t.jsx)("div",{className:o().details__row__right,children:"16,410.28 USD"})]}),(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Network Cost"}),(0,t.jsx)("div",{className:o().details__row__right,children:"0.000029 BTC"})]}),(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Total Due"}),(0,t.jsx)("div",{className:o().details__row__right,children:"0.008226 BTC"})]}),(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Amount Paid"}),(0,t.jsxs)("a",{className:o().details__row__right,href:"https://explorer.bitcoin.com/btc/tx/29a3efd3ef04f9153d47a990bd7b048a4b2d213daaa5fb8ed670fb85f13bdbcf",target:"_blank",rel:"noopener noreferrer",children:["overpaid"===s&&(0,t.jsx)(t.Fragment,{children:" 0.009973 BTC"}),"underpaid"===s&&(0,t.jsx)(t.Fragment,{children:" 0.008001 BTC"}),("paid"===s||"processing"===s||"refund"===s||"delayed"===s)&&(0,t.jsx)(t.Fragment,{children:" 0.008226 BTC"})]})]}),("processing"===s||"refund"===s)&&(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Refund Due"}),(0,t.jsx)("div",{className:o().details__row__right,style:{fontWeight:600},children:"135.00 USD"})]}),"processing"===s&&(0,t.jsxs)("div",{className:o().details__row,children:[(0,t.jsx)("div",{className:o().details__row__left,children:"Refund Address"}),(0,t.jsx)("a",{className:o().details__row__right,href:"https://explorer.bitcoin.com/btc/address/1GnVjxpvak4CSJRAF6FFRHuboBA5uA8BTR",target:"_blank",rel:"noopener noreferrer",children:"1GnVjx…uA8BTR"})]})]})]}),(0,t.jsxs)("div",{style:{position:"relative",marginTop:26},children:["paid"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"We'd love to hear your feedback!",caption:"Tell us how we're doing or if you have any suggestions or feature requests.",type:"feedback",lightMode:!0}),"delayed"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"Low Fee Warning!",caption:"This payment was sent with a low transaction fee and may take longer than normal to confirm.",type:"timer",buttons:[{text:"Learn More"}]}),"overpaid"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"Here’s your change",caption:"A refund of 0.001747 BTC is available for your overpayment.",type:"refund",buttons:[{text:"Enter Address"}]}),"underpaid"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"Here’s a full refund",caption:"A refund of 0.008001 BTC is available for your underpayment.",type:"refund",buttons:[{text:"Enter Address"}]}),"refund"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"Here’s your refund",caption:"A refund for 135.00 USD has been authorized on Dec 18 2020, 6:00 PM.",type:"refund",buttons:[{text:"Enter Address"}]}),"processing"===s&&(0,t.jsx)(h.ZP,{open:!0,title:"Address Saved!",caption:"This refund will be sent to you within 1 to 2 business days.",type:"info"})]})]})}},2897:function(e,s,i){"use strict";var t=i(5893),n=i(9845),a=i.n(n),r=i(8777),c=i(7294),l=i(7982),o=i(1173),d=i(2699),h=i.n(d);let p=a().bind(h()),u=r.iR;s.Z=e=>{let{src:s,carousel:i,zoom:n,maxWidth:a}=e,d=(0,c.useContext)(l.ThemeContext),m=(0,c.useRef)(null),_=(0,c.useRef)(null),{height:g}=(0,o.$l)(m),[f,x]=(0,c.useState)({width:0,height:0}),v=a?{maxWidth:a}:void 0,j=(0,c.useCallback)(()=>{if(!(null==_?void 0:_.current))return 0;let e=window.getComputedStyle(_.current).getPropertyValue("padding-top").replace("px",""),s=window.getComputedStyle(_.current).getPropertyValue("padding-bottom").replace("px","");return Number(e)+Number(s)},[_]);return(0,c.useEffect)(()=>{if(!i)return;let e=new Image;e.onload=()=>x(e),e.src=s[0]},[s]),(0,t.jsx)("div",{style:{height:g+j()},children:(0,t.jsx)("div",{className:p({wrapper:!0,wrapper__dark:d.dark}),ref:_,children:i&&s instanceof Array?(0,t.jsx)("div",{ref:m,className:h().asset,style:v,children:(0,t.jsxs)(r.sj,{naturalSlideWidth:f.width,naturalSlideHeight:f.height,totalSlides:s.length,interval:1e4,isPlaying:!0,infinite:!0,lockOnWindowScroll:!0,hasMasterSpinner:!0,children:[(0,t.jsx)(u,{onClick:e=>{var s;return null==e?void 0:null===(s=e.currentTarget)||void 0===s?void 0:s.focus()},children:s.map((e,s)=>(0,t.jsx)(r.Mi,{index:s,children:n?(0,t.jsx)(r.Ee,{src:e}):(0,t.jsx)(r.Gy,{src:e,hasMasterSpinner:!0})},s))}),(0,t.jsx)(r.I5,{className:h().dots})]})}):(0,t.jsx)(t.Fragment,{children:"string"==typeof s&&(0,t.jsx)(t.Fragment,{children:s.includes("mp4")?(0,t.jsx)("video",{ref:m,className:h().asset,style:v,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:(0,t.jsx)("source",{src:s,type:"video/mp4"})}):(0,t.jsx)("img",{ref:m,className:h().asset,style:v,src:s})})})})})}},4198:function(e,s,i){"use strict";i.r(s);var t=i(5893),n=i(5072);i(7294);var a=i(7017),r=i(4009),c=i(8565),l=i(6699),o=i(2897);s.default=()=>(0,t.jsxs)(t.Fragment,{children:[c.Wd,(0,t.jsx)(l.Z,{}),(0,t.jsxs)(n.E.main,{className:"body",...a.I,children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h1",{className:"begin-section pt-0",children:"Payment Receipt"}),(0,t.jsx)("h5",{children:"Post-payment handling"}),(0,t.jsxs)("div",{className:"lead begin-section end-section",children:[(0,t.jsx)("p",{children:'One of my earlier design initiatives at BitPay was creating a "receipt" UI pattern that would help us globally show payment details in the Invoice, Dashboard, and emails. This pattern was heavily inspired by Cash App\'s receipt patterns. While initially very similar in my email designs, I slowly differentiated while adapting the system for Invoice.'}),(0,t.jsx)("p",{children:"The result is an elegant representation of your blockchain payment. Cryptocurrency is the closest thing to electronic cash so I wanted this pattern to invoke the real-world counterpart."})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"begin-section",children:"Fully Paid"}),(0,t.jsx)("h5",{className:"end-section",children:"The last state in a successful payment"}),(0,t.jsx)(o.Z,{src:["/imgs/invoice/receipt/fully-paid.png","/imgs/invoice/receipt/leave-feedback.png"],carousel:!0}),(0,t.jsxs)("div",{className:"lead begin-section",children:[(0,t.jsx)("p",{children:"As you can see here, the Invoice price takes the center stage as a big, bold number in the middle of the card. The BitPay Timestamp bar acts as minor mutation of the Details bar to keep a consistent look."}),(0,t.jsx)("p",{children:"Additionally, the light toast under the card acts as a non-intrusive way to prompt the user for an optional action. The process of designing the Success state was definitely the easiest; the green color is quick way to signify a positive state while the payment details are fixed top level."}),(0,t.jsx)("p",{children:"Previously, the Success state was just a small card with the details buried a level down in the Info icon."})]}),(0,t.jsx)("h4",{className:"begin-section",children:"V4 Reference Implementation"}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:124},children:(0,t.jsx)(r.Z,{type:"paid"})})}),(0,t.jsx)("h4",{children:"V3 (Old Design)"}),(0,t.jsx)("img",{className:"h-align d-block end-section",width:"350",height:"100%",src:"/imgs/invoice/v3/paid.svg",alt:"V3 Paid State"})]}),(0,t.jsxs)("section",{className:"begin-section",children:[(0,t.jsx)("h2",{className:"begin-section",children:"Merchant Initiated Refund"}),(0,t.jsx)("h5",{className:"end-section",children:"Intuitive refunds for ecommerce"}),(0,t.jsx)(o.Z,{src:["/imgs/invoice/receipt/refund.png","/imgs/invoice/receipt/refund-address.png","/imgs/invoice/receipt/refund-processing.png","/imgs/invoice/receipt/refund-complete.png"],carousel:!0}),(0,t.jsxs)("div",{className:"lead begin-section end-section",children:[(0,t.jsx)("p",{children:"One of the primary actions when receiving a crypto refund is cross-checking the amount you spent against the current exchange rate. Elevating payment details to the top level really makes the Refund flow more usable."}),(0,t.jsx)("p",{children:'You can already see that the "Post-Payment" part of Invoice is meant to be minor mutations of the receipt UI pattern. By modifying small details like the icon, color, and heading, we can create a consistent experience that feels familiar no matter what point you visit the Invoice.'}),(0,t.jsx)("p",{children:"Here you can another usage of the Black Toast, this time serving as a primary action with content. The Toast pattern for Refunds was carefully chosen; because a user will typically cross-check their initial payment, we want to constantly keep that as the primary content. The refund process itself can take a backseat while still being highly accessible."})]}),(0,t.jsx)("h4",{className:"begin-section",children:"V4 Reference Implementation"}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:124},children:(0,t.jsx)(r.Z,{type:"refund"})})}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:76},children:(0,t.jsx)(r.Z,{type:"processing"})})})]}),(0,t.jsxs)("section",{className:"begin-section",children:[(0,t.jsx)("h2",{className:"begin-section",children:"Underpaid"}),(0,t.jsx)("h5",{className:"end-section",children:"Payment failure handling"}),(0,t.jsx)(o.Z,{src:["/imgs/invoice/receipt/underpaid.png","/imgs/invoice/receipt/refund-address.png","/imgs/invoice/receipt/underpaid-complete.png"],carousel:!0}),(0,t.jsxs)("div",{className:"lead begin-section",children:[(0,t.jsx)("p",{children:"The main idea I brought to the Underpaid state here is immediately signaling payment failure. With the launch of P2P, I knew payment errors would be something we would deal with more often. The V3 configuration of this state provides lots of information but does not clearly communicate the status."}),(0,t.jsx)("p",{children:"The benefit to the receipt UI pattern is that it allows a user to easily see their own mistake. In this case, the user paid about $200 less than they needed to. Underpayments can happen for all sorts of reasons but the most common is that some wallets and exchanges subtract the transaction fee from the amount you enter resulting in a less than intended amount of funds arriving on our end."})]}),(0,t.jsx)("h4",{className:"begin-section",children:"V4 Reference Implementation"}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:124},children:(0,t.jsx)(r.Z,{type:"underpaid"})})}),(0,t.jsx)("h4",{children:"V3 (Old Design)"}),(0,t.jsx)("img",{className:"h-align d-block",width:"350",height:"100%",src:"/imgs/invoice/v3/underpaid.svg",alt:"V3 Underpaid State"})]}),(0,t.jsxs)("section",{className:"begin-section",children:[(0,t.jsx)("h2",{className:"begin-section",children:"Overpaid"}),(0,t.jsx)("h5",{className:"end-section",children:"Payment change handling"}),(0,t.jsx)(o.Z,{src:["/imgs/invoice/receipt/overpaid.png","/imgs/invoice/receipt/refund-address.png","/imgs/invoice/receipt/overpaid-complete.png"],carousel:!0}),(0,t.jsx)("div",{className:"lead begin-section",children:(0,t.jsx)("p",{children:"Because an Overpaid state is still a successful payment, I wanted the new state to reduce alarm as much as possible while still prompting the user for an address. The result is a duplication of the normal Refund state. With the details exposed, the user can easily see their mistake."})}),(0,t.jsx)("h4",{className:"begin-section",children:"V4 Reference Implementation"}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:124},children:(0,t.jsx)(r.Z,{type:"overpaid"})})}),(0,t.jsx)("h4",{children:"V3 (Old Design)"}),(0,t.jsx)("img",{className:"h-align d-block",width:"350",height:"100%",src:"/imgs/invoice/v3/overpaid.svg",alt:"V3 Overpaid State"})]}),(0,t.jsxs)("section",{className:"begin-section",children:[(0,t.jsx)("h2",{className:"begin-section",children:"Slow Payment"}),(0,t.jsx)("h5",{className:"end-section",children:"Low miner fee handling"}),(0,t.jsx)(o.Z,{src:"/imgs/invoice/receipt/low-fee.png"}),(0,t.jsx)("div",{className:"lead begin-section",children:(0,t.jsx)("p",{children:'Lastly, for the Low Fee payment state, I wanted to reduce the heavy language while still providing some info to the user of the situation. Again, a simple mutation of the header, color, and icon is all that is needed to prompt a "Caution" state. Low fee payments can sometimes end up failing when the miner fee network spikes. With RBF, BTC users can bump the fee to speed it up if they hit this state.'})}),(0,t.jsx)("h4",{className:"begin-section",children:"V4 Reference Implementation"}),(0,t.jsx)("section",{className:"begin-section end-section wrapper-center",children:(0,t.jsx)("div",{style:{marginBottom:124},children:(0,t.jsx)(r.Z,{type:"delayed"})})}),(0,t.jsx)("h4",{children:"V3 (Old Design)"}),(0,t.jsx)("img",{className:"h-align d-block",width:"350",height:"100%",src:"/imgs/invoice/v3/low-fee.svg",alt:"V3 Low Fee"})]})]})]})},1926:function(e){e.exports={status:"invoice-receipt_status__fwOoy",status__icon:"invoice-receipt_status__icon__JhOd7",status__green:"invoice-receipt_status__green__66MoY",status__red:"invoice-receipt_status__red__Ni_Xg",status__red__pulse:"invoice-receipt_status__red__pulse___FaXO",pulseRed:"invoice-receipt_pulseRed__YN6xI",status__orange:"invoice-receipt_status__orange__eAQuo",status__blue:"invoice-receipt_status__blue__4GeSj",status__blue__pulse:"invoice-receipt_status__blue__pulse__RzDX6",pulseBlue:"invoice-receipt_pulseBlue__LHJAd",details:"invoice-receipt_details__1WbTF",details__row:"invoice-receipt_details__row__jdID0",details__row__left:"invoice-receipt_details__row__left__LQpa3",details__row__right:"invoice-receipt_details__row__right__7ecQf"}},2699:function(e){e.exports={asset:"wide-screen_asset__M6qVo",wrapper:"wide-screen_wrapper__AeGjR",wrapper__dark:"wide-screen_wrapper__dark___w7Ye",dots:"wide-screen_dots__yu0Pw"}}},function(e){e.O(0,[72,777,768,888,774,179],function(){return e(e.s=5958)}),_N_E=e.O()}]);